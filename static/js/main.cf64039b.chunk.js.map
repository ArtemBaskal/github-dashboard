{"version":3,"sources":["features/i18n/LanguageSelector.tsx","components/Footer/index.tsx","components/Header/index.tsx","app/App.tsx","app/rootReducer.ts","app/store.ts","index.tsx","utils/log.ts","api/githubAPI.ts","utils/consts.ts","utils/i18n.ts","utils/helpers.ts","features/pagination/pageSlice.ts","features/i18n/i18nSlice.ts","features/search/searchSlice.ts","components/Loading/index.tsx","features/reposList/reposSlice.ts","features/repoDetails/repoDetailsSlice.ts"],"names":["LanguageSelector","t","useTranslation","dispatch","useDispatch","currentLanguage","useSelector","state","i18n","currentLocale","className","htmlFor","value","onChange","e","target","changeLanguage","setCurrentLocale","id","Object","entries","LANGUAGES","map","languageCode","name","emojiFlag","key","Footer","memo","href","PROJECT_REPO_LINK","Date","getFullYear","Header","forwardRef","props","ref","to","ROUTES","MAIN","width","height","process","MainPage","lazy","NotFoundPage","RepoDetails","App","useRef","fallback","Loading","path","exact","REPO_CARD","NOT_FOUND","component","rootReducer","combineReducers","repos","pages","search","repoDetails","store","configureStore","reducer","require","default","ReactDOM","render","document","getElementById","LEVELS","METHODS","print","level","method","args","length","now","formatted","toISOString","console","log","debug","DEBUG","warn","WARN","error","ERROR","fetchRepos","q","page","a","config","params","sort","order","per_page","REPOS_PER_PAGE","headers","axios","get","response","data","message","fetchRepoDetails","fetchContributors","url","fetchLanguages","keys","interceptors","request","use","GITHUB_OAUTH_TOKEN","Error","Authorization","INPUT_DEBOUNCE_DELAY","MAX_SEARCH_PAGE","Math","ceil","PAGINATION_BUTTONS_COUNT","TOP_CONTRIBUTORS_QUANTITY","FIRST_PAGE","DEFAULT_SEARCH_TERM","DEFAULT_DATE_FORMAT_OPTIONS","year","month","day","hour","minute","hour12","BASE_LOCALE","en","ru","resources","translation","languageDetector","initReactI18next","init","fallbackLng","keySeparator","interpolation","escapeValue","generatePagesNumeration","current","total","left","max","min","floor","items","Array","from","item","idx","splice","formatDate","dateTime","language","navigator","options","toLocaleString","saveInSessionStorage","sessionStorage","localStorage","clear","initialState","totalPages","currentPage","parseInt","pageSlice","createSlice","reducers","setCurrentPage","action","payload","toString","setTotalPages","total_count","actions","i18nSlice","isSearching","searchTerm","searchSlice","setIsSearching","setSearchTerm","reposSlice","loadRepos","isFetchingContributors","isFetchingLanguages","repoDetailSlice","getRepoDetails","stargazers_count","updated_at","description","owner","owner_id","owner_html_url","html_url","login","avatar_url","getRepoContributors","contributors","slice","contributions","getRepoLanguages","languages","resetRepoDetails","loadRepoDetails","contributors_url","languages_url","Promise","all","repoContributors","repoLanguages"],"mappings":"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","file":"static/js/main.cf64039b.chunk.js","sourcesContent":["import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { LANGUAGES } from 'utils/consts';\nimport i18n from 'utils/i18n';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { RootState } from 'app/rootReducer';\nimport { setCurrentLocale } from 'features/i18n/i18nSlice';\nimport 'features/i18n/LanguageSelector.css';\n\nconst LanguageSelector = () => {\n  const { t } = useTranslation();\n  const dispatch = useDispatch();\n  const currentLanguage = useSelector((state: RootState) => state.i18n.currentLocale);\n\n  const changeLanguage = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    const { value } = e.target;\n    i18n.changeLanguage(value);\n    dispatch(setCurrentLocale(value));\n  };\n\n  return (\n    <div className=\"language-selector\">\n      <label htmlFor=\"language-select\">{t('language')}</label>\n      <select\n        value={currentLanguage}\n        onChange={changeLanguage}\n        className=\"select select--language\"\n        id=\"language-select\"\n      >\n        {Object.entries(LANGUAGES)\n          .map(([languageCode, { name, emojiFlag }]) => (\n            <option key={name} value={languageCode}>\n              {emojiFlag}\n              &nbsp;\n              {name}\n            </option>\n          ))}\n      </select>\n    </div>\n  );\n};\n\nexport default LanguageSelector;\n","import React, { memo } from 'react';\nimport LanguageSelector from 'features/i18n/LanguageSelector';\nimport 'components/Footer/index.css';\nimport { PROJECT_REPO_LINK } from 'utils/consts';\n\nconst Footer = memo(() => (\n  <footer className=\"footer\">\n    <span className=\"footer__year\">\n      <a className=\"icon--purple footer__link\" href={PROJECT_REPO_LINK}>©</a>\n      &nbsp;\n      <time>{new Date().getFullYear()}</time>\n    </span>\n    <LanguageSelector />\n  </footer>\n));\n\nexport default Footer;\n","import React, { forwardRef } from 'react';\nimport { ROUTES } from 'utils/consts';\nimport { Link } from 'react-router-dom';\nimport 'components/Header/index.css';\n\nconst Header = forwardRef<HTMLHeadElement>((props, ref) => (\n  <header className=\"header__container\" ref={ref}>\n    <Link to={ROUTES.MAIN} className=\"header__link\">\n      <svg width=\"50\" height=\"50\">\n        <image className=\"header__image\" href={`${process.env.PUBLIC_URL}/react-logo.svg`} />\n      </svg>\n      <h2 className=\"header__link--name\">Dashboard</h2>\n    </Link>\n  </header>\n));\n\nexport default Header;\n","import React, { Suspense, lazy, useRef } from 'react';\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\nimport { ROUTES } from 'utils/consts';\nimport Footer from 'components/Footer';\nimport Loading from 'components/Loading';\nimport Header from 'components/Header';\nimport 'app/main.css';\nimport 'app/App.css';\n\nconst MainPage = lazy(() => import('components/MainPage'));\nconst NotFoundPage = lazy(() => import('components/NotFoundPage'));\nconst RepoDetails = lazy(() => import('features/repoDetails/RepoDetails'));\n\n// TODO: cache api calls https://developer.github.com/v3/#conditional-requests\n// TODO: add loader spinner on fetching and sceleton on preloading\nconst App = () => {\n  const ref = useRef<HTMLHeadElement | null>(null);\n\n  return (\n    <article>\n      <main className=\"container\">\n        <Router>\n          <Header ref={ref} />\n          <Suspense fallback={<Loading />}>\n            <div className=\"main-content\">\n              <Switch>\n                <Route path={ROUTES.MAIN} exact>\n                  <MainPage ref={ref} />\n                </Route>\n                <Route path={ROUTES.REPO_CARD} exact>\n                  <RepoDetails ref={ref} />\n                </Route>\n                <Route path={ROUTES.NOT_FOUND} component={NotFoundPage} />\n              </Switch>\n            </div>\n          </Suspense>\n        </Router>\n      </main>\n      <Footer />\n    </article>\n  );\n};\n\nexport default App;\n","import { combineReducers } from '@reduxjs/toolkit';\n\nimport repos from 'features/reposList/reposSlice';\nimport pages from 'features/pagination/pageSlice';\nimport search from 'features/search/searchSlice';\nimport repoDetails from 'features/repoDetails/repoDetailsSlice';\nimport i18n from 'features/i18n/i18nSlice';\n\nconst rootReducer = combineReducers({\n  repos, pages, search, repoDetails, i18n,\n});\n\nexport type RootState = ReturnType<typeof rootReducer>\n\nexport default rootReducer;\n","import { configureStore, Action } from '@reduxjs/toolkit';\nimport { ThunkAction } from 'redux-thunk';\n\nimport rootReducer, { RootState } from 'app/rootReducer';\n\nconst store = configureStore({\n  reducer: rootReducer,\n});\n\nif (process.env.NODE_ENV === 'development' && module.hot) {\n  module.hot.accept('./rootReducer', () => {\n    // eslint-disable-next-line global-require\n    const newRootReducer = require('./rootReducer').default;\n    store.replaceReducer(newRootReducer);\n  });\n}\n\nexport type AppDispatch = typeof store.dispatch\nexport type AppThunk = ThunkAction<void, RootState, null, Action<string>>\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from 'app/store';\nimport 'index.css';\nimport 'utils/i18n';\n\nfunction render() {\n  // eslint-disable-next-line global-require\n  const App = require('app/App').default;\n  ReactDOM.render(\n    <Provider store={store}>\n      <App />\n    </Provider>,\n    document.getElementById('root'),\n  );\n}\n\nrender();\n\nif (process.env.NODE_ENV === 'development' && module.hot) {\n  module.hot.accept('app/App', render);\n}\n","const CURRENT_LEVEL = 'DEBUG';\n\nenum LEVELS {\n    ERROR,\n    WARN,\n    DEBUG,\n}\n\nenum METHODS {\n    ERROR = 'error',\n    WARN = 'warn',\n    DEBUG = 'debug',\n}\n\nconst print = (level: keyof typeof LEVELS, method: METHODS, args: any) => {\n  if (LEVELS[CURRENT_LEVEL] < LEVELS[level]) {\n    return;\n  }\n\n  if (!args || args.length === 0 || !args[0]) {\n    return;\n  }\n\n  const now = new Date();\n  const formatted = `${now.toISOString()}:`;\n  // eslint-disable-next-line no-console\n  console[method](formatted, ...args);\n};\n\nconst log = {\n  debug(...args: any) {\n    print('DEBUG', METHODS.DEBUG, args);\n  },\n\n  warn(...args: any) {\n    print('WARN', METHODS.WARN, args);\n  },\n\n  error(...args: any) {\n    print('ERROR', METHODS.ERROR, args);\n  },\n};\n\nexport default log;\n","import axios from 'axios';\nimport { Repo, Contributor } from 'features/reposList/types';\nimport { REPOS_PER_PAGE } from 'utils/consts';\nimport log from 'utils/log';\n\nconst SEARCH_URL_BASE = 'https://api.github.com/search/repositories';\nconst REPO_URL_BASE = 'https://api.github.com/repositories';\n\nexport interface GetReposResponse {\n    incomplete_results: boolean,\n    items: Repo[],\n    total_count: number,\n}\n\ninterface IConfig {\n    params: {\n        q: string,\n        page?: number,\n        sort?: 'stars' | 'forks' | 'help-wanted-issues' | 'updated',\n        order?: 'desc' | 'asc',\n        per_page?: number,\n    },\n    headers: {\n        [key: string]: string,\n    },\n}\n\nexport const fetchRepos = async (q: string, page: number): Promise<GetReposResponse | string> => {\n  try {\n    const config: IConfig = {\n      params: {\n        q,\n        page,\n        sort: 'stars',\n        order: 'desc',\n        per_page: REPOS_PER_PAGE,\n      },\n      headers: {},\n    };\n\n    const response = await axios.get<GetReposResponse>(SEARCH_URL_BASE, config);\n\n    return response.data;\n  } catch (e) {\n    log.error(e);\n    return e.message;\n  }\n};\n\nexport const fetchRepoDetails = async (id: string): Promise<Repo | string> => {\n  try {\n    const response = await axios.get<Repo>(`${REPO_URL_BASE}/${id}`);\n\n    return response.data;\n  } catch (e) {\n    log.error(e);\n    return e.message;\n  }\n};\n\n/**\n * https://developer.github.com/v3/repos/#list-repository-contributors\n *\n * Lists contributors to the specified repository and\n * sorts them by the number of commits per contributor in descending order.\n */\nexport const fetchContributors = async (url: string): Promise<Contributor[] | string> => {\n  try {\n    const response = await axios.get<Contributor[]>(url);\n\n    return response.data;\n  } catch (e) {\n    log.error(e);\n    return e.message;\n  }\n};\n\n/**\n *  https://developer.github.com/v3/repos/#list-repository-languages\n */\nexport const fetchLanguages = async (url: string): Promise<string[] | [] | string> => {\n  try {\n    const response = await axios.get<{[key:string]: number}>(url);\n\n    return Object.keys(response.data);\n  } catch (e) {\n    log.error(e);\n    return e.message;\n  }\n};\n\naxios.interceptors.request.use((config: Partial<IConfig> = {}) => {\n  try {\n    // eslint-disable-next-line global-require\n    const { GITHUB_OAUTH_TOKEN } = require('secret.json');\n\n    if (!GITHUB_OAUTH_TOKEN) {\n      throw new Error('Read the README Access token section for more details: https://github.com/ArtemBaskal/github-dashboard#access-token');\n    }\n\n    // eslint-disable-next-line no-param-reassign\n    config.headers = { ...config.headers, Authorization: `token ${GITHUB_OAUTH_TOKEN}` };\n  } catch (e) {\n    log.error(e);\n    log.error('Read the README Access token section for more details: https://github.com/ArtemBaskal/github-dashboard#access-token');\n  } finally {\n    // eslint-disable-next-line no-unsafe-finally\n    return config;\n  }\n});\n","export const INPUT_DEBOUNCE_DELAY = 500;\n\n// https://developer.github.com/v3/search/\nexport const GITHUB_SEARCH_LIMIT = 1000;\n\nexport const REPOS_PER_PAGE = 10;\n\nexport const MAX_SEARCH_PAGE = Math.ceil(GITHUB_SEARCH_LIMIT / REPOS_PER_PAGE);\n\nexport const PAGINATION_BUTTONS_COUNT = 8;\n\nexport const TOP_CONTRIBUTORS_QUANTITY = 10;\n\nexport const FIRST_PAGE = 1;\n\nexport const DEFAULT_SEARCH_TERM = 'stars:>0';\n\nexport const DEFAULT_DATE_FORMAT_OPTIONS = {\n  year: 'numeric',\n  month: 'long',\n  day: 'numeric',\n  hour: 'numeric',\n  minute: 'numeric',\n  hour12: false,\n};\n\nexport const ROUTES = {\n  MAIN: '/',\n  REPO_CARD: '/:id',\n  NOT_FOUND: '*',\n};\n\nexport const BASE_LOCALE = 'ru';\n\nexport const LANGUAGES = {\n  en: { name: 'English', emojiFlag: '🇬🇧' },\n  ru: { name: 'Русский', emojiFlag: '🇷🇺' },\n};\n\nexport const PROJECT_REPO_LINK = 'https://github.com/ArtemBaskal/github-dashboard';\n","import i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport languageDetector from 'i18next-browser-languagedetector';\nimport { BASE_LOCALE } from 'utils/consts';\nimport ru from '__locales/ru.json';\nimport en from '__locales/en.json';\n\nconst resources = {\n  en: {\n    translation: en,\n  },\n  ru: {\n    translation: ru,\n  },\n};\n\ni18n\n  .use(languageDetector)\n  .use(initReactI18next)\n  .init({\n    resources,\n    fallbackLng: BASE_LOCALE,\n\n    keySeparator: false,\n\n    interpolation: {\n      escapeValue: false,\n    },\n  });\n\nexport default i18n;\n","import { PAGINATION_BUTTONS_COUNT, MAX_SEARCH_PAGE, DEFAULT_DATE_FORMAT_OPTIONS } from 'utils/consts';\nimport log from 'utils/log';\n\nexport const generatePagesNumeration = (\n  current: number, total: number, width: number = PAGINATION_BUTTONS_COUNT,\n) => {\n  // eslint-disable-next-line no-param-reassign\n  total = total > MAX_SEARCH_PAGE ? MAX_SEARCH_PAGE : total;\n  const length = total < width ? total : width;\n  const left = Math.max(0, Math.min(total - width, current - Math.floor(width / 2)));\n\n  const items: (number | string)[] = Array.from({ length }, (item, idx) => idx + left);\n\n  if (items[0] > 0) {\n    items.splice(0, 2, 0, 'prev-more');\n  }\n\n  if (items[items.length - 1] < total - 1) {\n    items.splice(items.length - 1, 2, 'next-more', total - 1);\n  }\n  return items;\n};\n\nexport const formatDate = (\n  dateTime: string, language: string = navigator.language, options = DEFAULT_DATE_FORMAT_OPTIONS,\n) => new Date(dateTime).toLocaleString(language, options);\n\nexport const saveInSessionStorage = (key: string, value: string): string => {\n  try {\n    sessionStorage[key] = value;\n    return value;\n  } catch (e) {\n    log.error(e);\n    log.error('The limit of sessionStorage is exceeded and it will be cleared.');\n    localStorage.clear();\n    sessionStorage[key] = value;\n    return value;\n  }\n};\n","/* eslint-disable no-param-reassign */\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { REPOS_PER_PAGE } from 'utils/consts';\nimport { saveInSessionStorage } from 'utils/helpers';\n\ntype IRepos = { totalPages: number, currentPage: number };\n\nconst initialState: IRepos = {\n  totalPages: 1,\n  currentPage: parseInt(sessionStorage.currentPage, 10) || 1,\n};\n\nconst pageSlice = createSlice({\n  name: 'pages',\n  initialState,\n  reducers: {\n    setCurrentPage: (state, action: PayloadAction<number>) => {\n      state.currentPage = action.payload;\n\n      saveInSessionStorage('currentPage', state.currentPage.toString());\n\n      return state;\n    },\n    setTotalPages: (state, action: PayloadAction<number>) => {\n      const total_count = action.payload;\n      state.totalPages = Math.ceil(total_count / REPOS_PER_PAGE);\n\n      return state;\n    },\n  },\n});\n\nexport const {\n  setCurrentPage,\n  setTotalPages,\n} = pageSlice.actions;\n\nexport default pageSlice.reducer;\n","/* eslint-disable no-param-reassign */\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport i18n from 'utils/i18n';\n\nconst initialState = { currentLocale: i18n.language };\n\nconst i18nSlice = createSlice({\n  name: 'i18n',\n  initialState,\n  reducers: {\n    setCurrentLocale: (state, action: PayloadAction<string>) => {\n      state.currentLocale = action.payload;\n\n      return state;\n    },\n  },\n});\n\nexport const {\n  setCurrentLocale,\n} = i18nSlice.actions;\n\nexport default i18nSlice.reducer;\n","/* eslint-disable no-param-reassign */\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { saveInSessionStorage } from 'utils/helpers';\n\ntype IRepos = { isSearching: boolean, searchTerm: string };\n\nconst initialState: IRepos = { isSearching: true, searchTerm: sessionStorage.searchTerm || '' };\n\nconst searchSlice = createSlice({\n  name: 'search',\n  initialState,\n  reducers: {\n    setIsSearching: (state, action: PayloadAction<boolean>) => {\n      state.isSearching = action.payload;\n\n      return state;\n    },\n    setSearchTerm: (state, action: PayloadAction<string>) => {\n      state.searchTerm = action.payload;\n\n      saveInSessionStorage('searchTerm', state.searchTerm);\n\n      return state;\n    },\n  },\n});\n\nexport const {\n  setIsSearching,\n  setSearchTerm,\n} = searchSlice.actions;\n\nexport default searchSlice.reducer;\n","import React from 'react';\nimport 'components/Loading/index.css';\n\nconst Loading = () => (\n  <div className=\"loader__overlay\">\n    <div className=\"loader__spinner\" />\n  </div>\n);\n\nexport default Loading;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { AppThunk, AppDispatch } from 'app/store';\nimport { fetchRepos } from 'api/githubAPI';\nimport { Repo } from 'features/reposList/types';\nimport { setTotalPages } from 'features/pagination/pageSlice';\n\ntype IRepos = Repo[];\n\nconst initialState: IRepos = [];\n\nconst reposSlice = createSlice({\n  name: 'repos',\n  initialState,\n  reducers: {\n    fetchRepos: (state, action: PayloadAction<Repo[]>): IRepos => action.payload,\n  },\n});\n\nexport const loadRepos = (q: string, page: number): AppThunk => async (dispatch: AppDispatch) => {\n  const repos = await fetchRepos(q, page);\n\n  if (typeof repos === 'string') {\n    throw repos;\n  }\n\n  dispatch(reposSlice.actions.fetchRepos(repos.items));\n  dispatch(setTotalPages(repos.total_count));\n};\n\nexport default reposSlice.reducer;\n","/* eslint-disable no-param-reassign */\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { AppThunk, AppDispatch } from 'app/store';\nimport { fetchRepoDetails, fetchContributors, fetchLanguages } from 'api/githubAPI';\nimport { Repo, Contributor } from 'features/reposList/types';\nimport { TOP_CONTRIBUTORS_QUANTITY } from 'utils/consts';\n\ntype Fetching = {\n    isFetchingContributors?: boolean,\n    isFetchingLanguages?: boolean\n};\n\nconst initialState: Partial<Repo> & Fetching = {\n  isFetchingContributors: true,\n  isFetchingLanguages: true,\n};\n\nconst repoDetailSlice = createSlice({\n  name: 'repoDetails',\n  initialState,\n  reducers: {\n    getRepoDetails(state, action: PayloadAction<Repo>): Repo {\n      const {\n        id,\n        name,\n        stargazers_count,\n        updated_at,\n        description,\n        owner: {\n          id: owner_id, html_url: owner_html_url, login, avatar_url,\n        },\n        html_url,\n      } = action.payload;\n\n      state = {\n        id,\n        name,\n        stargazers_count,\n        updated_at,\n        description,\n        html_url,\n        owner: {\n          id: owner_id, html_url: owner_html_url, login, avatar_url,\n        },\n      };\n\n      state.isFetchingContributors = true;\n      state.isFetchingLanguages = true;\n\n      return state as Repo;\n    },\n    getRepoContributors: (state, action: PayloadAction<Contributor[]>): Repo => {\n      state.contributors = action.payload.slice(0, TOP_CONTRIBUTORS_QUANTITY).map(({\n        id, html_url, login, avatar_url, contributions,\n      }) => ({\n        id, html_url, login, avatar_url, contributions,\n      }));\n\n      state.isFetchingContributors = false;\n\n      return state as Repo;\n    },\n    getRepoLanguages: (state, action: PayloadAction<string[]>): Repo => {\n      state.languages = action.payload;\n      state.isFetchingLanguages = false;\n\n      return state as Repo;\n    },\n    resetRepoDetails: (state) => {\n      state = initialState;\n      return state;\n    },\n  },\n});\n\nexport const { resetRepoDetails } = repoDetailSlice.actions;\n\nexport const loadRepoDetails = (id: string): AppThunk => async (dispatch: AppDispatch) => {\n  const repoDetails = await fetchRepoDetails(id);\n  if (typeof repoDetails === 'string') {\n    throw repoDetails;\n  } else {\n    dispatch(repoDetailSlice.actions.getRepoDetails(repoDetails));\n  }\n\n  const { contributors_url, languages_url } = repoDetails;\n  const [repoContributors, repoLanguages] = await Promise\n    .all([fetchContributors(contributors_url), fetchLanguages(languages_url)]);\n\n  if (typeof repoContributors === 'string') {\n    throw repoContributors;\n  } else {\n    dispatch(repoDetailSlice.actions.getRepoContributors(repoContributors));\n  }\n\n  if (typeof repoLanguages === 'string') {\n    throw repoContributors;\n  } else {\n    dispatch(repoDetailSlice.actions.getRepoLanguages(repoLanguages));\n  }\n};\n\nexport default repoDetailSlice.reducer;\n"],"sourceRoot":""}