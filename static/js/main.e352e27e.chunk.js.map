{"version":3,"sources":["app/rootReducer.ts","app/store.ts","index.tsx","features/i18n/LanguageSelector.tsx","components/Footer/index.tsx","app/App.tsx","utils/log.ts","utils/i18n.ts","api/githubAPI.ts","utils/helpers.ts","features/pagination/pageSlice.ts","utils/consts.ts","features/i18n/i18nSlice.ts","features/reposList/reposSlice.ts","features/search/searchSlice.ts","features/repoDetails/repoDetailsSlice.ts","components/Loading/index.tsx"],"names":["rootReducer","combineReducers","repos","pages","search","repoDetails","i18n","store","configureStore","reducer","App","require","default","ReactDOM","render","document","getElementById","LanguageSelector","t","useTranslation","dispatch","useDispatch","currentLanguage","useSelector","state","currentLocale","className","htmlFor","value","onChange","e","target","changeLanguage","setCurrentLocale","id","Object","entries","LANGUAGES","map","languageCode","name","emojiFlag","key","Footer","href","PROJECT_REPO_LINK","Date","getFullYear","MainPage","lazy","NotFoundPage","RepoDetails","fallback","Loading","path","ROUTES","MAIN","exact","component","REPO_CARD","NOT_FOUND","LEVELS","METHODS","print","level","method","args","length","now","formatted","toISOString","console","log","debug","DEBUG","warn","WARN","error","ERROR","resources","en","translation","ru","use","languageDetector","initReactI18next","init","fallbackLng","BASE_LOCALE","keySeparator","interpolation","escapeValue","fetchRepos","q","page","a","config","params","sort","order","per_page","REPOS_PER_PAGE","headers","axios","get","response","data","message","fetchRepoDetails","fetchContributors","url","interceptors","request","GITHUB_OAUTH_TOKEN","Error","Authorization","getPageNumbers","totalPages","reposPerPage","shift","Math","floor","maybeLeftmost","maybeRightmost","rightmost","rightmostShifted","leftmost","i","push","formatDate","dateTime","language","navigator","options","DEFAULT_DATE_FORMAT_OPTIONS","toLocaleString","saveInSessionStorage","sessionStorage","localStorage","clear","initialState","currentPage","parseInt","pageSlice","createSlice","reducers","setCurrentPage","action","payload","toString","setTotalPages","total_count","ceil","actions","INPUT_DEBOUNCE_DELAY","TOP_CONTRIBUTORS_QUANTITY","FIRST_PAGE","DEFAULT_SEARCH_TERM","year","month","day","hour","minute","hour12","i18nSlice","reposSlice","loadRepos","items","isSearching","searchTerm","searchSlice","setIsSearching","setSearchTerm","isFetchingContributors","repoDetailSlice","getRepoDetails","stargazers_count","updated_at","description","owner","contributors","html_url","getRepoContributors","resetRepoDetails","loadRepoDetails","contributors_url","repoContributors","text"],"mappings":"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","file":"static/js/main.e352e27e.chunk.js","sourcesContent":["import { combineReducers } from '@reduxjs/toolkit';\n\nimport repos from 'features/reposList/reposSlice';\nimport pages from 'features/pagination/pageSlice';\nimport search from 'features/search/searchSlice';\nimport repoDetails from 'features/repoDetails/repoDetailsSlice';\nimport i18n from 'features/i18n/i18nSlice';\n\nconst rootReducer = combineReducers({\n  repos, pages, search, repoDetails, i18n,\n});\n\nexport type RootState = ReturnType<typeof rootReducer>\n\nexport default rootReducer;\n","import { configureStore, Action } from '@reduxjs/toolkit';\nimport { ThunkAction } from 'redux-thunk';\n\nimport rootReducer, { RootState } from 'app/rootReducer';\n\nconst store = configureStore({\n  reducer: rootReducer,\n});\n\nif (process.env.NODE_ENV === 'development' && module.hot) {\n  module.hot.accept('./rootReducer', () => {\n    // eslint-disable-next-line global-require\n    const newRootReducer = require('./rootReducer').default;\n    store.replaceReducer(newRootReducer);\n  });\n}\n\nexport type AppDispatch = typeof store.dispatch\nexport type AppThunk = ThunkAction<void, RootState, null, Action<string>>\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from 'app/store';\nimport 'index.css';\nimport 'utils/i18n';\n\nfunction render() {\n  // eslint-disable-next-line global-require\n  const App = require('app/App').default;\n  ReactDOM.render(\n    <Provider store={store}>\n      <App />\n    </Provider>,\n    document.getElementById('root'),\n  );\n}\n\nrender();\n\nif (process.env.NODE_ENV === 'development' && module.hot) {\n  module.hot.accept('app/App', render);\n}\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { LANGUAGES } from 'utils/consts';\nimport i18n from 'utils/i18n';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { RootState } from 'app/rootReducer';\nimport { setCurrentLocale } from 'features/i18n/i18nSlice';\nimport 'features/i18n/LanguageSelector.css';\n\nconst LanguageSelector = () => {\n  const { t } = useTranslation();\n  const dispatch = useDispatch();\n  const currentLanguage = useSelector((state: RootState) => state.i18n.currentLocale);\n\n  const changeLanguage = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    const { value } = e.target;\n    i18n.changeLanguage(value);\n    dispatch(setCurrentLocale(value));\n  };\n\n  return (\n    <div className=\"language-selector\">\n      <label htmlFor=\"language-select\">{t('language')}</label>\n      <select\n        value={currentLanguage}\n        onChange={changeLanguage}\n        className=\"select select--language\"\n        id=\"language-select\"\n      >\n        {Object.entries(LANGUAGES)\n          .map(([languageCode, { name, emojiFlag }]) => (\n            <option key={name} value={languageCode}>\n              {emojiFlag}\n              &nbsp;\n              {name}\n            </option>\n          ))}\n      </select>\n    </div>\n  );\n};\n\nexport default LanguageSelector;\n","import React from 'react';\nimport LanguageSelector from 'features/i18n/LanguageSelector';\nimport 'components/Footer/index.css';\nimport { PROJECT_REPO_LINK } from 'utils/consts';\n\nconst Footer = () => (\n  <footer className=\"footer\">\n    <span className=\"footer__year\">\n      <a className=\"icon--purple\" href={PROJECT_REPO_LINK}>¬©</a>\n      &nbsp;\n      <time>{new Date().getFullYear()}</time>\n    </span>\n    <LanguageSelector />\n  </footer>\n);\n\nexport default Footer;\n","import React, { Suspense, lazy } from 'react';\nimport {\n  HashRouter as Router,\n  Route,\n  Switch,\n} from 'react-router-dom';\nimport { ROUTES } from 'utils/consts';\nimport Footer from 'components/Footer';\nimport Loading from 'components/Loading';\nimport 'app/main.css';\nimport 'app/App.css';\n\nconst MainPage = lazy(() => import('components/MainPage'));\nconst NotFoundPage = lazy(() => import('components/NotFoundPage'));\nconst RepoDetails = lazy(() => import('features/repoDetails/RepoDetails'));\n\n// TODO: add black theme\n// TODO: cache api calls https://developer.github.com/v3/#conditional-requests\n// TODO: describe script in readme\nconst App = () => (\n  <>\n    <div className=\"container\">\n      <Router>\n        <Suspense fallback={<Loading />}>\n          <Switch>\n            <Route path={ROUTES.MAIN} exact component={MainPage} />\n            <Route path={ROUTES.REPO_CARD} exact component={RepoDetails} />\n            <Route path={ROUTES.NOT_FOUND} component={NotFoundPage} />\n          </Switch>\n        </Suspense>\n      </Router>\n    </div>\n    <Footer />\n  </>\n);\n\nexport default App;\n","const CURRENT_LEVEL = 'DEBUG';\n\nenum LEVELS {\n    ERROR,\n    WARN,\n    DEBUG,\n}\n\nenum METHODS {\n    ERROR = 'error',\n    WARN = 'warn',\n    DEBUG = 'debug',\n}\n\nconst print = (level: keyof typeof LEVELS, method: METHODS, args: any) => {\n  if (LEVELS[CURRENT_LEVEL] < LEVELS[level]) {\n    return;\n  }\n\n  if (!args || args.length === 0 || !args[0]) {\n    return;\n  }\n\n  const now = new Date();\n  const formatted = `${now.toISOString()}:`;\n  // eslint-disable-next-line no-console\n  console[method](formatted, ...args);\n};\n\nconst log = {\n  debug(...args: any) {\n    print('DEBUG', METHODS.DEBUG, args);\n  },\n\n  warn(...args: any) {\n    print('WARN', METHODS.WARN, args);\n  },\n\n  error(...args: any) {\n    print('ERROR', METHODS.ERROR, args);\n  },\n};\n\nexport default log;\n","import i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport languageDetector from 'i18next-browser-languagedetector';\nimport { BASE_LOCALE } from 'utils/consts';\nimport ru from '__locales/ru.json';\nimport en from '__locales/en.json';\n\nconst resources = {\n  en: {\n    translation: en,\n  },\n  ru: {\n    translation: ru,\n  },\n};\n\ni18n\n  .use(languageDetector)\n  .use(initReactI18next)\n  .init({\n    resources,\n    fallbackLng: BASE_LOCALE,\n\n    keySeparator: false,\n\n    interpolation: {\n      escapeValue: false,\n    },\n  });\n\nexport default i18n;\n","import axios from 'axios';\nimport { Repo, Contributor } from 'features/reposList/types';\nimport { REPOS_PER_PAGE } from 'utils/consts';\nimport log from 'utils/log';\n\nconst SEARCH_URL = 'https://api.github.com/search/repositories';\nconst REPO_URL = 'https://api.github.com/repositories';\n\nexport interface GetReposResponse {\n    incomplete_results: boolean,\n    items: Repo[],\n    total_count: number,\n}\n\ninterface IConfig {\n    params: {\n        q: string,\n        page?: number,\n        sort?: 'stars' | 'forks' | 'help-wanted-issues' | 'updated',\n        order?: 'desc' | 'asc',\n        per_page?: number,\n    },\n    headers: {\n        Authorization?: string,\n    },\n}\n\nexport const fetchRepos = async (q: string, page: number): Promise<GetReposResponse | string> => {\n  try {\n    const config: IConfig = {\n      params: {\n        q,\n        page,\n        sort: 'stars',\n        order: 'desc',\n        per_page: REPOS_PER_PAGE,\n      },\n      headers: {},\n    };\n\n    const response = await axios.get<GetReposResponse>(SEARCH_URL, config);\n\n    return response.data;\n  } catch (e) {\n    log.error(e);\n    return e.message;\n  }\n};\n\nexport const fetchRepoDetails = async (id: string): Promise<Repo | string> => {\n  try {\n    const response = await axios.get<Repo>(`${REPO_URL}/${id}`);\n\n    return response.data;\n  } catch (e) {\n    log.error(e);\n    return e.message;\n  }\n};\n\n/**\n * https://developer.github.com/v3/repos/#list-repository-contributors\n *\n * Lists contributors to the specified repository and\n * sorts them by the number of commits per contributor in descending order.\n */\nexport const fetchContributors = async (url: string): Promise<Contributor[] | string> => {\n  try {\n    const response = await axios.get<Contributor[]>(url);\n\n    return response.data;\n  } catch (e) {\n    log.error(e);\n    return e.message;\n  }\n};\n\naxios.interceptors.request.use((config: Partial<IConfig> = {}) => {\n  try {\n    // eslint-disable-next-line global-require\n    const { GITHUB_OAUTH_TOKEN } = require('secret.json');\n\n    if (!GITHUB_OAUTH_TOKEN) {\n      throw new Error('No Access Token provided. Read the README Access token section for more details: https');\n    }\n\n    // eslint-disable-next-line no-param-reassign\n    config.headers = { ...config.headers, Authorization: `token ${GITHUB_OAUTH_TOKEN}` };\n  } catch (e) {\n    log.error(e);\n    log.error('Read the README Access token section for more details: https://github.com/ArtemBaskal/github-dashboard#access-token');\n  } finally {\n    // eslint-disable-next-line no-unsafe-finally\n    return config;\n  }\n});\n","import { REPOS_PER_PAGE, DEFAULT_DATE_FORMAT_OPTIONS } from 'utils/consts';\nimport log from 'utils/log';\n\nexport const getPageNumbers = (\n  page: number, totalPages: number, reposPerPage: number = REPOS_PER_PAGE,\n) => {\n  const shift = Math.floor(reposPerPage / 2);\n  const maybeLeftmost = page > shift ? page - shift : 0;\n  const maybeRightmost = maybeLeftmost + reposPerPage;\n\n  const rightmost = maybeRightmost < totalPages ? maybeRightmost : totalPages;\n  const rightmostShifted = rightmost > reposPerPage ? rightmost - REPOS_PER_PAGE : rightmost;\n\n  const leftmost = maybeLeftmost < rightmostShifted ? maybeLeftmost : rightmostShifted;\n\n  const pages = [];\n  for (let i = leftmost; i < rightmost; i += 1) {\n    pages.push(i + 1);\n  }\n\n  return pages;\n};\n\nexport const formatDate = (\n  dateTime: string, language: string = navigator.language, options = DEFAULT_DATE_FORMAT_OPTIONS,\n) => new Date(dateTime).toLocaleString(language, options);\n\nexport const saveInSessionStorage = (key: string, value: string): string => {\n  try {\n    sessionStorage[key] = value;\n    return value;\n  } catch (e) {\n    log.error(e);\n    log.error('The limit of sessionStorage is exceeded and it will be cleared.');\n    localStorage.clear();\n    sessionStorage[key] = value;\n    return value;\n  }\n};\n","/* eslint-disable no-param-reassign */\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { REPOS_PER_PAGE } from 'utils/consts';\nimport { saveInSessionStorage } from 'utils/helpers';\n\ntype IRepos = { totalPages: number, currentPage: number };\n\nconst initialState: IRepos = {\n  totalPages: 1,\n  currentPage: parseInt(sessionStorage.currentPage, 10) || 1,\n};\n\nconst pageSlice = createSlice({\n  name: 'pages',\n  initialState,\n  reducers: {\n    setCurrentPage: (state, action: PayloadAction<number>) => {\n      state.currentPage = action.payload;\n\n      saveInSessionStorage('currentPage', state.currentPage.toString());\n\n      return state;\n    },\n    setTotalPages: (state, action: PayloadAction<number>) => {\n      const total_count = action.payload;\n      state.totalPages = Math.ceil(total_count / REPOS_PER_PAGE);\n\n      return state;\n    },\n  },\n});\n\nexport const {\n  setCurrentPage,\n  setTotalPages,\n} = pageSlice.actions;\n\nexport default pageSlice.reducer;\n","export const INPUT_DEBOUNCE_DELAY = 500;\n\nexport const REPOS_PER_PAGE = 10;\n\nexport const TOP_CONTRIBUTORS_QUANTITY = 10;\n\nexport const FIRST_PAGE = 1;\n\nexport const DEFAULT_SEARCH_TERM = 'stars:>100000';\n\nexport const DEFAULT_DATE_FORMAT_OPTIONS = {\n  year: 'numeric',\n  month: 'long',\n  day: 'numeric',\n  hour: 'numeric',\n  minute: 'numeric',\n  hour12: false,\n};\n\nexport const ROUTES = {\n  MAIN: '/',\n  REPO_CARD: '/:id',\n  NOT_FOUND: '*',\n};\n\nexport const BASE_LOCALE = 'ru';\n\nexport const LANGUAGES = {\n  en: { name: 'English', emojiFlag: 'üá¨üáß' },\n  ru: { name: '–†—É—Å—Å–∫–∏–π', emojiFlag: 'üá∑üá∫' },\n};\n\nexport const PROJECT_REPO_LINK = 'https://github.com/ArtemBaskal/github-dashboard';\n","/* eslint-disable no-param-reassign */\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport i18n from 'utils/i18n';\n\nconst initialState = { currentLocale: i18n.language };\n\nconst i18nSlice = createSlice({\n  name: 'i18n',\n  initialState,\n  reducers: {\n    setCurrentLocale: (state, action: PayloadAction<string>) => {\n      state.currentLocale = action.payload;\n\n      return state;\n    },\n  },\n});\n\nexport const {\n  setCurrentLocale,\n} = i18nSlice.actions;\n\nexport default i18nSlice.reducer;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { AppThunk, AppDispatch } from 'app/store';\nimport { fetchRepos } from 'api/githubAPI';\nimport { Repo } from 'features/reposList/types';\nimport { setTotalPages } from 'features/pagination/pageSlice';\n\ntype IRepos = Repo[];\n\nconst initialState: IRepos = [];\n\nconst reposSlice = createSlice({\n  name: 'repos',\n  initialState,\n  reducers: {\n    fetchRepos: (state, action: PayloadAction<Repo[]>): IRepos => action.payload,\n  },\n});\n\nexport const loadRepos = (q: string, page: number): AppThunk => async (dispatch: AppDispatch) => {\n  const repos = await fetchRepos(q, page);\n\n  if (typeof repos === 'string') {\n    throw repos;\n  }\n\n  dispatch(reposSlice.actions.fetchRepos(repos.items));\n  dispatch(setTotalPages(repos.total_count));\n};\n\nexport default reposSlice.reducer;\n","/* eslint-disable no-param-reassign */\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { saveInSessionStorage } from 'utils/helpers';\n\ntype IRepos = { isSearching: boolean, searchTerm: string };\n\nconst initialState: IRepos = { isSearching: false, searchTerm: sessionStorage.searchTerm || '' };\n\nconst searchSlice = createSlice({\n  name: 'search',\n  initialState,\n  reducers: {\n    setIsSearching: (state, action: PayloadAction<boolean>) => {\n      state.isSearching = action.payload;\n\n      return state;\n    },\n    setSearchTerm: (state, action: PayloadAction<string>) => {\n      state.searchTerm = action.payload;\n\n      saveInSessionStorage('searchTerm', state.searchTerm);\n\n      return state;\n    },\n  },\n});\n\nexport const {\n  setIsSearching,\n  setSearchTerm,\n} = searchSlice.actions;\n\nexport default searchSlice.reducer;\n","/* eslint-disable no-param-reassign */\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { AppThunk, AppDispatch } from 'app/store';\nimport { fetchRepoDetails, fetchContributors } from 'api/githubAPI';\nimport { Repo, Contributor } from 'features/reposList/types';\n\nconst initialState: Partial<Repo> & { isFetchingContributors?: boolean } = {\n  isFetchingContributors: true,\n};\n\nconst repoDetailSlice = createSlice({\n  name: 'repoDetails',\n  initialState,\n  reducers: {\n    getRepoDetails(state, action: PayloadAction<Repo>): Repo {\n      const {\n        id,\n        name,\n        stargazers_count,\n        updated_at,\n        language,\n        description,\n        owner,\n        contributors,\n        html_url,\n      } = action.payload;\n\n      state = {\n        id,\n        name,\n        stargazers_count,\n        updated_at,\n        language,\n        description,\n        owner,\n        contributors,\n        html_url,\n      };\n\n      return state as Repo;\n    },\n    getRepoContributors: (state, action: PayloadAction<Contributor[]>): Repo => {\n      state.contributors = action.payload;\n      state.isFetchingContributors = false;\n\n      return state as Repo;\n    },\n    resetRepoDetails: (state) => {\n      state = initialState;\n      return state;\n    },\n  },\n});\n\nexport const { resetRepoDetails } = repoDetailSlice.actions;\n\nexport const loadRepoDetails = (id: string): AppThunk => async (dispatch: AppDispatch) => {\n  const repoDetails = await fetchRepoDetails(id);\n\n  if (typeof repoDetails === 'string') {\n    throw repoDetails;\n  } else {\n    dispatch(repoDetailSlice.actions.getRepoDetails(repoDetails));\n  }\n\n  const repoContributors = await fetchContributors(repoDetails.contributors_url!);\n\n  if (typeof repoContributors === 'string') {\n    throw repoContributors;\n  } else {\n    dispatch(repoDetailSlice.actions.getRepoContributors(repoContributors));\n  }\n};\n\nexport default repoDetailSlice.reducer;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport 'components/Loading/index.css';\n\ntype IProps = {\n    text?: string\n}\n\nconst Loading = ({ text }: IProps) => {\n  const { t } = useTranslation();\n  return <h4 className=\"loader__text\">{text || t('loading')}</h4>;\n};\n\nexport default Loading;\n"],"sourceRoot":""}